#*******************************************************************************
#lambda_function_app3.py
#*******************************************************************************

#Purpose:
#Use a python driver and download files using Earthaccess library
#to /tmp/ using EarthData credentials.
#Authors:
#Manu Tom, Cedric H. David, 2018-2024


#*******************************************************************************
#Example invocation
#*******************************************************************************
#{
#     "basin_id": "74",
#     "lsm_mod": "VIC"
#     "yyyy_mm": "2000-01"
#     "s3_name": "currnt-data"
#}


#*******************************************************************************
#Import libraries
#*******************************************************************************
import drv_all as drv


#*******************************************************************************
#lambda handler
#*******************************************************************************
def lambda_handler(event, context):
    yyyy_mm = event['yyyy_mm']
    
    
    #***************************************************************************
    #invoke driver
    #*************************************************************************** 
    drv.drv_dwn_ED(yyyy_mm)
    
    return { 
        'GLDAS VIC 3H data download from Earthdata succesful for ' : yyyy_mm
    }


#*******************************************************************************
#End
#*******************************************************************************